<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Plant Character</title>
    <style>
        /* CSS styles */

        body {
            margin: 0;
            padding: 0;
            background-color: #ffffff; /* Start with day background */
            color: #000000;
            font-family: Arial, sans-serif;
            transition: background-color 0.5s, color 0.5s;
        }

        #container {
            text-align: center;
            padding-top: 50px;
        }

        #plantCanvas {
            background-color: #87CEEB; /* Sky blue for day */
            border: 2px solid #000;
            border-radius: 10px;
        }

        #controls {
            margin-top: 20px;
        }

        button {
            background-color: #ff66cc; /* Cute button color */
            border: none;
            color: white;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 10px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #ff85d5;
        }

        #message {
            margin-top: 20px;
            font-size: 18px;
        }

        #textDisplay {
            margin-top: 20px;
            font-size: 18px;
            color: #ffcc00; /* Yellowish color for text */
        }
    </style>
</head>
<body>
    <div id="container">
        <canvas id="plantCanvas" width="400" height="400"></canvas>
        <div id="controls">
            <button id="dayNightMode">Toggle Day/Night Mode</button>
            <button id="growthStage">Change Growth Stage</button>
            <button id="waterPlant">Water Plant</button>
            <button id="giveSun">Provide Sunlight</button>
            <button id="fertilizePlant">Fertilize Plant</button>
            <button id="playMusic">Play Music</button>
            <button id="talkPlant">Talk to Plant</button>
            <button id="showText">Show Text</button>
            <button id="cuteButton">Cute</button>
            <button id="showButterfly">Show Butterfly</button>
            <button id="sleeping">Sleeping</button>
            <button id="showNeedWater">Show "I need water"</button>
            <button id="showNeedSun">Show "I need sun"</button>
            <button id="idealButton">Ideal</button>
        </div>
        <div id="message"></div>
        <div id="textDisplay"></div>
    </div>

    <script>
        // JavaScript code
        const canvas = document.getElementById('plantCanvas');
        const ctx = canvas.getContext('2d');

        let isDayMode = true; // Start with day mode
        let growthStage = 0; // 0: Seed, 1: Seedling, 2: Growing, 3: Mature
        let needsWater = false;
        let needsSun = false;

        let textTimeout;

        function drawPlant() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw background
            if (isDayMode) {
                drawDayBackground();
            } else {
                drawNightBackground();
            }

            // Draw plant
            ctx.save();
            ctx.translate(canvas.width / 2, canvas.height);

            // Draw plant based on growth stage
            if (growthStage >= 0) {
                // Seed stage
                ctx.fillStyle = '#8B4513'; // Brown color for seed
                ctx.beginPath();
                ctx.arc(0, 0, 10, 0, Math.PI * 2); // Increase seed size
                ctx.fill();
            }

            if (growthStage >= 1) {
                // Seedling stage
                ctx.strokeStyle = '#00ff00';
                ctx.lineWidth = 5;

                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(0, -50);
                ctx.stroke();

                // Leaves
                ctx.fillStyle = '#00ff00';
                ctx.beginPath();
                ctx.arc(-10, -50, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(10, -50, 10, 0, Math.PI * 2);
                ctx.fill();
            }

            if (growthStage >= 2) {
                // Growing stage - taller stem
                ctx.strokeStyle = '#00ff00';
                ctx.lineWidth = 5;

                ctx.beginPath();
                ctx.moveTo(0, -50);
                ctx.lineTo(0, -100);
                ctx.stroke();

                // More leaves
                ctx.fillStyle = '#00ff00';
                ctx.beginPath();
                ctx.arc(-15, -100, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(15, -100, 10, 0, Math.PI * 2);
                ctx.fill();
            }

            if (growthStage >= 3) {
                // Mature stage - add flower
                ctx.fillStyle = '#ffcc00';
                ctx.beginPath();
                ctx.arc(0, -120, 15, 0, Math.PI * 2);
                ctx.fill();
            }

            ctx.restore();

            // Display needs
            if (needsWater && needsSun) {
                document.getElementById('message').innerText = 'I need water and sun!';
            } else if (needsWater) {
                document.getElementById('message').innerText = 'I need water!';
                // Draw "I need water" text next to plant
                ctx.save();
                ctx.translate(canvas.width / 2 + 50, canvas.height - 100);
                ctx.fillStyle = '#0000ff';
                ctx.font = '16px Arial';
                ctx.fillText('I need water!', 0, 0);
                ctx.restore();
            } else if (needsSun) {
                document.getElementById('message').innerText = 'I need sun!';
                // Draw "I need sun" text next to plant
                ctx.save();
                ctx.translate(canvas.width / 2 + 50, canvas.height - 130);
                ctx.fillStyle = '#FFA500';
                ctx.font = '16px Arial';
                ctx.fillText('I need sun!', 0, 0);
                ctx.restore();

                // Draw cloud over sun
                if (isDayMode) {
                    drawCloud(30, 50); // Adjusted position
                }
            } else {
                document.getElementById('message').innerText = '';
            }
        }

        function drawDayBackground() {
            // Sky blue background
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw sun
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(50, 50, 30, 0, Math.PI * 2);
            ctx.fill();

            // If needs sun, draw cloud over part of sun
            if (needsSun) {
                drawCloud(30, 50);
            }
        }

        function drawCloud(x, y) {
            ctx.fillStyle = '#ffffff';
            ctx.beginPath();
            ctx.arc(x, y, 20, Math.PI * 0.5, Math.PI * 1.5);
            ctx.arc(x + 20, y - 20, 20, Math.PI, Math.PI * 2);
            ctx.arc(x + 40, y - 20, 20, Math.PI, Math.PI * 2);
            ctx.arc(x + 60, y, 20, Math.PI * 1.5, Math.PI * 0.5);
            ctx.moveTo(x + 60, y + 20);
            ctx.lineTo(x, y + 20);
            ctx.fill();
        }

        function drawNightBackground() {
            ctx.fillStyle = '#0a0a2a'; // Dark blue
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw stars
            for (let i = 0; i < 50; i++) {
                ctx.fillStyle = '#ffffff';
                ctx.beginPath();
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                ctx.arc(x, y, 1, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function toggleDayNightMode() {
            isDayMode = !isDayMode;

            // Change the background color of the body
            if (isDayMode) {
                document.body.style.backgroundColor = '#ffffff';
                document.body.style.color = '#000000';
                document.getElementById('plantCanvas').style.backgroundColor = '#87CEEB';
                document.getElementById('plantCanvas').style.borderColor = '#000';
            } else {
                document.body.style.backgroundColor = '#0a0a2a';
                document.body.style.color = '#ffffff';
                document.getElementById('plantCanvas').style.backgroundColor = '#1a1a3d';
                document.getElementById('plantCanvas').style.borderColor = '#fff';
            }

            drawPlant();
        }

        function waterPlant() {
            // Keep the animation as it with drops
            playWateringAnimation();

            needsWater = false;
            drawPlant();
        }

        function giveSun() {
            if (needsSun) {
                needsSun = false;
                // Play sun animation
                playSunAnimation();
            } else {
                playSunAnimation();
            }
        }

        function changeGrowthStage() {
            growthStage = (growthStage + 1) % 4; // Now 4 stages
            drawPlant();
        }

        function showRandomText() {
            const messages = [
                "Plants make people happy!",
                "Don't forget to water me!",
                "I'm growing strong!",
                "I love sunlight!",
                "Thank you for taking care of me!"
            ];
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            // Display the message in the textDisplay div
            document.getElementById('textDisplay').innerText = randomMessage;

            // Hide the text after some time
            clearTimeout(textTimeout);
            textTimeout = setTimeout(() => {
                document.getElementById('textDisplay').innerText = '';
            }, 5000); // Hide after 5 seconds
        }

        function playWateringAnimation() {
            let dropletY = -150;
            function animateDroplet() {
                drawPlant();
                ctx.save();
                ctx.translate(canvas.width / 2, canvas.height);
                ctx.fillStyle = '#0000ff';
                ctx.beginPath();
                ctx.arc(0, dropletY, 5, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
                dropletY += 5;
                if (dropletY <= 0) {
                    requestAnimationFrame(animateDroplet);
                } else {
                    drawPlant();
                }
            }
            animateDroplet();
        }

        function playSunAnimation() {
            // Show the cloud moving away
            let cloudX = 30;
            function animateSun() {
                drawPlant();
                ctx.save();
                ctx.translate(cloudX, 50);
                ctx.fillStyle = '#ffffff';
                ctx.beginPath();
                ctx.arc(0, 0, 20, Math.PI * 0.5, Math.PI * 1.5);
                ctx.arc(20, -20, 20, Math.PI, Math.PI * 2);
                ctx.arc(40, -20, 20, Math.PI, Math.PI * 2);
                ctx.arc(60, 0, 20, Math.PI * 1.5, Math.PI * 0.5);
                ctx.moveTo(60, 20);
                ctx.lineTo(0, 20);
                ctx.fill();
                ctx.restore();

                cloudX += 2;
                if (cloudX < canvas.width) {
                    requestAnimationFrame(animateSun);
                } else {
                    drawPlant();
                }
            }
            animateSun();
        }

        function showCuteReaction() {
            let heartY = canvas.height / 2;
            function animateHeart() {
                drawPlant();
                ctx.save();
                ctx.translate(canvas.width / 2, heartY);
                ctx.fillStyle = '#ff69b4'; // Hot pink color
                ctx.beginPath();
                ctx.moveTo(0, -10);
                ctx.bezierCurveTo(-25, -35, -50, 0, 0, 30);
                ctx.bezierCurveTo(50, 0, 25, -35, 0, -10);
                ctx.fill();
                ctx.restore();
                heartY -= 5;
                if (heartY > 0) {
                    requestAnimationFrame(animateHeart);
                } else {
                    drawPlant();
                }
            }
            animateHeart();
        }

        function fertilizePlant() {
            // Improved fertilize animation without bag moving down
            let particles = [];
            // Start sprinkling particles
            for (let i = 0; i < 20; i++) {
                particles.push({
                    x: canvas.width / 2 - 10 + Math.random() * 20,
                    y: canvas.height / 2,
                    vy: 2 + Math.random() * 2
                });
            }
            function animateParticles() {
                drawPlant();

                // Draw particles
                ctx.fillStyle = '#8B4513'; // Brown color for particles
                particles.forEach((p, index) => {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
                    ctx.fill();
                    p.y += p.vy;
                    if (p.y > canvas.height) {
                        particles.splice(index, 1);
                    }
                });

                if (particles.length > 0) {
                    requestAnimationFrame(animateParticles);
                } else {
                    drawPlant();
                }
            }
            animateParticles();
        }

        function playMusic() {
            // Show moving musical notes
            let notes = [];
            for (let i = 0; i < 5; i++) {
                notes.push({
                    x: canvas.width / 2 + Math.random() * 100 - 50,
                    y: canvas.height - 100,
                    vy: -2 - Math.random() * 2
                });
            }
            function animateNotes() {
                drawPlant();
                ctx.save();
                ctx.fillStyle = '#000000';
                notes.forEach(note => {
                    ctx.font = '20px Arial';
                    ctx.fillText('♪', note.x, note.y);
                    note.y += note.vy;
                });
                ctx.restore();
                if (notes[0].y > 0) {
                    requestAnimationFrame(animateNotes);
                } else {
                    drawPlant();
                }
            }
            animateNotes();
        }

        function talkToPlant() {
            let opacity = 1;
            function animateSpeechBubble() {
                drawPlant();
                ctx.save();
                ctx.globalAlpha = opacity;
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(canvas.width / 2 - 60, canvas.height / 2 - 150, 120, 50);
                ctx.fillStyle = '#000000';
                ctx.font = '14px Arial';
                ctx.fillText('Hello, friend!', canvas.width / 2 - 50, canvas.height / 2 - 120);
                ctx.restore();
                opacity -= 0.02;
                if (opacity > 0) {
                    requestAnimationFrame(animateSpeechBubble);
                } else {
                    drawPlant();
                }
            }
            animateSpeechBubble();
        }

        function showButterfly() {
            // Show butterfly animation
            let butterflyX = 0;
            let butterflyY = canvas.height / 2;

            function animateButterfly() {
                drawPlant();
                ctx.save();
                ctx.translate(butterflyX, butterflyY);
                ctx.fillStyle = '#ff00ff'; // Magenta color for butterfly
                // Draw simple butterfly wings
                ctx.beginPath();
                ctx.ellipse(0, 0, 10, 5, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.ellipse(15, 0, 10, 5, 0, 0, Math.PI * 2);
                ctx.fill();
                // Draw body
                ctx.fillStyle = '#000000';
                ctx.fillRect(5, -5, 5, 10);
                ctx.restore();

                butterflyX += 5;
                butterflyY += Math.sin(butterflyX / 20) * 5;

                if (butterflyX < canvas.width) {
                    requestAnimationFrame(animateButterfly);
                } else {
                    drawPlant();
                }
            }
            animateButterfly();
        }

        function sleepingPlant() {
            // Show animated Z's next to the plant
            let zY = canvas.height - 150;
            function animateZ() {
                drawPlant();
                ctx.save();
                ctx.fillStyle = '#0000ff';
                ctx.font = '30px Arial';
                ctx.fillText('Z', canvas.width / 2 + 20, zY);
                ctx.restore();
                zY -= 2;
                if (zY > 0) {
                    requestAnimationFrame(animateZ);
                } else {
                    drawPlant();
                }
            }
            animateZ();
        }

        function showNeedWater() {
            needsWater = true;
            drawPlant();
        }

        function showNeedSun() {
            needsSun = true;
            drawPlant();
        }

        function resetToIdeal() {
            // Clear any messages or flags
            document.getElementById('message').innerText = '';
            document.getElementById('textDisplay').innerText = '';
            needsWater = false;
            needsSun = false;
            drawPlant();
        }

        // Event listeners for buttons
        document.getElementById('dayNightMode').addEventListener('click', toggleDayNightMode);
        document.getElementById('growthStage').addEventListener('click', changeGrowthStage);
        document.getElementById('waterPlant').addEventListener('click', waterPlant);
        document.getElementById('giveSun').addEventListener('click', giveSun);
        document.getElementById('fertilizePlant').addEventListener('click', fertilizePlant);
        document.getElementById('playMusic').addEventListener('click', playMusic);
        document.getElementById('talkPlant').addEventListener('click', talkToPlant);
        document.getElementById('showText').addEventListener('click', showRandomText);
        document.getElementById('cuteButton').addEventListener('click', showCuteReaction);
        document.getElementById('showButterfly').addEventListener('click', showButterfly);
        document.getElementById('sleeping').addEventListener('click', sleepingPlant);
        document.getElementById('showNeedWater').addEventListener('click', showNeedWater);
        document.getElementById('showNeedSun').addEventListener('click', showNeedSun);
        document.getElementById('idealButton').addEventListener('click', resetToIdeal);

        // Initial draw
        drawPlant();
    </script>
</body>
</html>
